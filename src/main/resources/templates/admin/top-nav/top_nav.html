<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<!-- Navbar -->
<nav class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl " id="navbarBlur" data-scroll="false" th:fragment="topNavFragment">
    <div class="container-fluid py-1 px-3">
        <div class="collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4" id="navbar">
            <div class="ms-md-auto pe-md-3 d-flex align-items-center"></div>
            <ul class="navbar-nav justify-content-end">
                <li class="nav-item d-flex align-items-center" th:if="${user != null}">
                    <a class="nav-link text-white font-weight-bold px-0" style="cursor: pointer" onclick="logout()">
                        <i class="fa fa-user me-sm-1"></i>
                        <span class="d-sm-inline d-none">로그아웃</span>
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <script>
        function logout() {
            if(!confirm('로그아웃 하시겠습니까?')) {
                return;
            }
            $.ajax({
                url: '/session/logout',
                type: 'GET',
                success: function (data) {
                    location.href="/";
                },
                error: function (error) {
                    alert('Error!');
                }
            });
        }
    </script>
</nav>
<!-- End Navbar -->
</html>